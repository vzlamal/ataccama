REVOKE ALL ON DATABASE test FROM app;
GRANT CONNECT ON DATABASE test TO app;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO app;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO app;

REVOKE ALL ON DATABASE test FROM app;
REVOKE CONNECT ON DATABASE test FROM app;
REVOKE SELECT ON ALL TABLES IN SCHEMA public FROM app;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO app;